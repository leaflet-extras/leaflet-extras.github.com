{"ts":1363890093907,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1363890099434,"patch":[[{"diffs":[[1,"(function () {\r\n    L.TileLayer.Provider = L.TileLayer.extend({\r\n\t\tinitialize: function (arg, options) {\r\n\t\t\tvar providers = L.TileLayer.Provider.providers;\r\n\r\n\t\t\tvar parts = arg.split('.');\r\n\r\n\t\t\tvar providerName = parts[0];\r\n\t\t\tvar variantName = parts[1];\r\n\r\n\t\t\tif (!providers[providerName]) {\r\n\t\t\t\tthrow \"No such provider (\" + providerName + \")\";\r\n\t\t\t}\r\n\r\n\t\t\tvar provider = {\r\n\t\t\t\turl: providers[providerName].url,\r\n\t\t\t\toptions: providers[providerName].options\r\n\t\t\t};\r\n\r\n\t\t\t// overwrite values in provider from variant.\r\n\t\t\tif (variantName && 'variants' in providers[providerName]) {\r\n\t\t\t\tif (!(variantName in providers[providerName].variants)) {\r\n\t\t\t\t\tthrow \"No such name in provider (\" + variantName + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tvar variant = providers[providerName].variants[variantName];\r\n\t\t\t\tprovider = {\r\n\t\t\t\t\turl: variant.url || provider.url,\r\n\t\t\t\t\toptions: L.Util.extend({}, provider.options, variant.options)\r\n\t\t\t\t};\r\n\t\t\t} else if (typeof provider.url === 'function') {\r\n\t\t\t\tprovider.url = provider.url(parts.splice(1).join('.'));\r\n\t\t\t}\r\n\r\n\t\t\t// replace attribution placeholders with their values from toplevel provider attribution.\r\n\t\t\tvar attribution = provider.options.attribution;\r\n\t\t\tif (attribution.indexOf('{attribution.') != -1) {\r\n\t\t\t\tprovider.options.attribution = attribution.replace(/\\{attribution.(\\w*)\\}/,\r\n\t\t\t\t\tfunction(match, attributionName){\r\n\t\t\t\t\t\treturn providers[attributionName].options.attribution;\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// Compute final options combining provider options with any user overrides\r\n\t\t\tvar layer_opts = L.Util.extend({}, provider.options, options);\r\n\t\t\tL.TileLayer.prototype.initialize.call(this, provider.url, layer_opts);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t * Definition of providers.\r\n\t * see http://leafletjs.com/reference.html#tilelayer for options in the options map.\r\n\t */\r\n\tL.TileLayer.Provider.providers = {\r\n\t\tOpenStreetMap: {\r\n\t\t\turl: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n\t\t\toptions: {\r\n\t\t\t\tattribution: '&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>'\r\n\t\t\t},\r\n\t\t\tvariants: {\r\n\t\t\t\tMapnik: {},\r\n\t\t\t\tBlackAndWhite: {\r\n\t\t\t\t\turl: 'http://{s}.www.toolserver.org/tiles/bw-mapnik/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tDE: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tOpenCycleMap: {\r\n\t\t\turl: 'http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png',\r\n\t\t\toptions: {\r\n\t\t\t\tattribution: '&copy; <a href=\"http://www.opencyclemap.org\">OpenCycleMap</a>, <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>'\r\n\t\t\t}\r\n\t\t},\r\n\t\tThunderforest: {\r\n\t\t\turl: 'http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png',\r\n\t\t\toptions: {\r\n\t\t\t\tattribution: '{attribution.OpenCycleMap}'\r\n\t\t\t},\r\n\t\t\tvariants: {\r\n\t\t\t\tOpenCycleMap: {},\r\n\t\t\t\tTransport: {\r\n\t\t\t\t\turl: 'http://{s}.tile2.opencyclemap.org/transport/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tLandscape: {\r\n\t\t\t\t\turl: 'http://{s}.tile3.opencyclemap.org/landscape/{z}/{x}/{y}.png'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tMapQuestOpen: {\r\n\t\t\turl: 'http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpeg',\r\n\t\t\toptions: {\r\n\t\t\t\tattribution: 'Tiles Courtesy of <a href=\"http://www.mapquest.com/\">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',\r\n\t\t\t\tsubdomains: '1234'\r\n\t\t\t},\r\n\t\t\tvariants: {\r\n\t\t\t\tOSM: {},\r\n\t\t\t\tAerial:{\r\n\t\t\t\t\turl: 'http://oatile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tattribution:\r\n\t\t\t\t\t\t\t'Tiles Courtesy of <a href=\"http://www.mapquest.com/\">MapQuest</a> &mdash; ' +\r\n\t\t\t\t\t\t\t'Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tMapBox: {\r\n\t\t\turl: function(id) {\r\n\t\t\t\treturn 'http://{s}.tiles.mapbox.com/v3/' + id + '/{z}/{x}/{y}.png';\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\tattribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',\r\n\t\t\t\tsubdomains: 'abcd'\r\n\t\t\t}\r\n\t\t},\r\n\t\tStamen: {\r\n\t\t\turl: 'http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.png',\r\n\t\t\toptions: {\r\n\t\t\t\tattribution:\r\n\t\t\t\t\t'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; ' +\r\n\t\t\t\t\t'Map data {attribution.OpenStreetMap}',\r\n\t\t\t\tsubdomains: 'abcd',\r\n\t\t\t\tminZoom: 0,\r\n\t\t\t\tmaxZoom: 20\r\n\t\t\t},\r\n\t\t\tvariants: {\r\n\t\t\t\tToner: {},\r\n\t\t\t\tTonerBackground: {\r\n\t\t\t\t\turl: 'http://{s}.tile.stamen.com/toner-background/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tTonerHybrid: {\r\n\t\t\t\t\turl: 'http://{s}.tile.stamen.com/toner-hybrid/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tTonerLines: {\r\n\t\t\t\t\turl: 'http://{s}.tile.stamen.com/toner-lines/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tTonerLabels: {\r\n\t\t\t\t\turl: 'http://{s}.tile.stamen.com/toner-labels/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tTonerLite: {\r\n\t\t\t\t\turl: 'http://{s}.tile.stamen.com/toner-lite/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tTerrain: {\r\n\t\t\t\t\turl: 'http://{s}.tile.stamen.com/terrain/{z}/{x}/{y}.jpg',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tminZoom: 4,\r\n\t\t\t\t\t\tmaxZoom: 18\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tWatercolor: {\r\n\t\t\t\t\turl: 'http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tminZoom: 3,\r\n\t\t\t\t\t\tmaxZoom: 16\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tEsri: {\r\n\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\toptions: {\r\n\t\t\t\tattribution: 'Tiles &copy; Esri'\r\n\t\t\t},\r\n\t\t\tvariants: {\r\n\t\t\t\tWorldStreetMap: {\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tDeLorme: {\r\n\t\t\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tminZoom: 1,\r\n\t\t\t\t\t\tmaxZoom: 11,\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tWorldTopoMap: {\r\n\t\t\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tWorldImagery: {\r\n\t\t\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tWorldTerrain: {\r\n\t\t\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tmaxZoom: 13,\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tWorldShadedRelief: {\r\n\t\t\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tmaxZoom: 13,\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Source: Esri'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tWorldPhysical: {\r\n\t\t\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tmaxZoom: 8,\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Source: US National Park Service'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tOceanBasemap: {\r\n\t\t\t\t\turl: 'http://services.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tmaxZoom: 13,\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tNatGeoWorldMap: {\r\n\t\t\t\t\turl: 'http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tmaxZoom: 16,\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tWorldGrayCanvas: {\r\n\t\t\t\t\turl: 'http://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tmaxZoom: 16,\r\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tOpenWeatherMap: {\r\n\t\t\toptions: {\r\n\t\t\t\tattribution: 'Map data &copy; <a href=\"http://openweathermap.org\">OpenWeatherMap</a>',\r\n\t\t\t\topacity: 0.5\r\n\t\t\t},\r\n\t\t\tvariants: {\r\n\t\t\t\tClouds: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/clouds/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tCloudsClassic: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/clouds_cls/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tPrecipitation: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/precipitation/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tPrecipitationClassic: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/precipitation_cls/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tRain: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/rain/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tRainClassic: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/rain_cls/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tPressure: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/pressure/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tPressureContour: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/pressure_cntr/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tWind: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/wind/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tTemperature: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/temp/{z}/{x}/{y}.png'\r\n\t\t\t\t},\r\n\t\t\t\tSnow: {\r\n\t\t\t\t\turl: 'http://{s}.tile.openweathermap.org/map/snow/{z}/{x}/{y}.png'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tNokia: {\r\n\t\t\toptions: {\r\n\t\t\t\tattribution:\r\n\t\t\t\t\t'Map &copy; <a href=\"http://developer.here.com\">Nokia</a>, Data &copy; NAVTEQ 2012',\r\n\t\t\t\tsubdomains: '1234',\r\n\t\t\t\tdevID: 'xyz', //These basemaps are free and you can sign up here:  http://developer.here.com/plans\r\n\t\t\t\tappID: 'abc'\r\n\t\t\t},\r\n\t\t\tvariants: {\r\n\t\t\t\tnormalDay: {\r\n\t\t\t\t\turl: 'http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/normal.day/{z}/{x}/{y}/256/png8?token={devID}&app_id={appID}'\r\n\t\t\t\t},\r\n\t\t\t\tnormalGreyDay: {\r\n\t\t\t\t\turl: 'http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/normal.day.grey/{z}/{x}/{y}/256/png8?token={devID}&app_id={appID}'\r\n\t\t\t\t},\r\n\t\t\t\tsatelliteNoLabelsDay: {\r\n\t\t\t\t\turl: 'http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?token={devID}&app_id={appID}'\r\n\t\t\t\t},\r\n\t\t\t\tsatelliteYesLabelsDay: {\r\n\t\t\t\t\turl: 'http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?token={devID}&app_id={appID}'\r\n\t\t\t\t},\r\n\t\t\t\tterrainDay: {\r\n\t\t\t\t\turl: 'http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/terrain.day/{z}/{x}/{y}/256/png8?token={devID}&app_id={appID}'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}());\r\n\r\nL.tileLayer.provider = function(provider, options){\r\n\treturn new L.TileLayer.Provider(provider, options);\r\n};\r\n\r\nL.Control.Layers.Provided = L.Control.Layers.extend({\r\n\t\tinitialize: function(base, overlay, options){\r\n\t\t\t\tvar first;\r\n\t\t\t\tif(base.length){\r\n\t\t\t\t\t\t(function(){\r\n\t\t\t\t\t\t\t\tvar out = {},\r\n\t\t\t\t\t\t\t\tlen = base.length,\r\n\t\t\t\t\t\t\t\ti=0;\r\n\t\t\t\t\t\t\t\twhile(i<len){\r\n\t\t\t\t\t\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfirst = L.tileLayer.provider(base[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tout[base[i].replace(/\\./g,\": \").replace(/([a-z])([A-Z])/g,\"$1 $2\")] = first;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tout[base[i].replace(/\\./g,\": \").replace(/([a-z])([A-Z])/g,\"$1 $2\")] = L.tileLayer.provider(base[i]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbase = out;\r\n\t\t\t\t\t\t}());\r\n\t\t\t\tthis._first = first;\r\n\t\t\t\t}\r\n\t\t\t\tif(overlay && overlay.length){\r\n\t\t\t\t\t\t(function(){\r\n\t\t\t\t\t\t\t\tvar out = {},\r\n\t\t\t\t\t\t\t\tlen = overlay.length,\r\n\t\t\t\t\t\t\t\ti=0;\r\n\t\t\t\t\t\t\t\twhile(i<len){\r\n\t\t\t\t\t\t\t\t\t\tout[overlay[i].replace(/\\./g,\": \").replace(/([a-z])([A-Z])/g,\"$1 $2\")] = L.tileLayer.provider(overlay[i]);\r\n\t\t\t\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\toverlay = out;\r\n\t\t\t\t\t\t}());\r\n\t\t\t\t}\r\n\t\t\t\tL.Control.Layers.prototype.initialize.call(this, base, overlay, options);\r\n\t\t},\r\n\t\tonAdd: function(map){\r\n\t\t\t\tthis._first.addTo(map);\r\n\t\t\t\treturn L.Control.Layers.prototype.onAdd.call(this, map);\r\n\t\t}\r\n});\r\nL.control.layers.provided = function (baseLayers, overlays, options) {\r\n\t\treturn new L.Control.Layers.Provided(baseLayers, overlays, options);\r\n};"]],"start1":0,"start2":0,"length1":0,"length2":12355}]],"length":12355,"saved":false}
